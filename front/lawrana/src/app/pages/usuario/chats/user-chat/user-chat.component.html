<mat-card-actions class="acoes">
  <figure>
    <img height="32px" width="32px" [src]="chat.foto_assistente" alt="assistente" class="foto_assistente">
  </figure>
  <h3>{{ chat.nome_assistente }} - {{ chat.nome_chat }}</h3>
  <button mat-flat-button color="warn" (click)="deletarChat(chat.codigo_chat!)">
    <mat-icon>delete</mat-icon>
    Apagar chat
  </button>
</mat-card-actions>
<div #chatContainer class="chat-container">
  <div *ngFor="let message of chat.mensagens" [ngClass]="{'user-message': message.tipo_mensagem === 'Usuario', 'assistant-message': message.tipo_mensagem === 'Assistente'}">
    <button *ngIf="message.tipo_mensagem === 'Assistente'" (click)="copyCode(message.mensagem)" class="copy-button">Copiar</button>
    <!--<app-code-chat @exibeMensagem *ngIf="isCodeMessage(message.mensagem)" [code]="message.mensagem"></app-code-chat>
    <span @exibeMensagem  *ngIf="!isCodeMessage(message.mensagem)" [innerHTML]="message.mensagem"></span>-->

    <app-code-chat @exibeMensagem [code]="message.mensagem"></app-code-chat>
    <!--<span  [innerHTML]="message.mensagem"></span>-->
  </div>
</div>
<div class="input-container">
  <input [(ngModel)]="mensagem" placeholder="Digite sua mensagem..."  />
  <button (click)="sendMessage()">Enviar</button>
</div>
